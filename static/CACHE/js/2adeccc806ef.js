(function(){var State,_mediaQueryList;this.Harvey=(function(){function Harvey(){}
Harvey.states={};Harvey.attach=function(mediaQuery,callbacks){var state;if(!this.states.hasOwnProperty(mediaQuery)){this.states[mediaQuery]=[];this._add_css_for(mediaQuery);}
state=new State(mediaQuery,callbacks!=null?callbacks.setup:void 0,callbacks!=null?callbacks.on:void 0,callbacks!=null?callbacks.off:void 0);if(!this.states[mediaQuery].length){this._watch_query(mediaQuery);}
this.states[mediaQuery].push(state);if(this._window_matchmedia(mediaQuery).matches){this._update_states([state],true);}
return state;};Harvey.detach=function(state){var i,s,_i,_len,_ref,_results;_ref=this.states[state.condition];_results=[];for(i=_i=0,_len=_ref.length;_i<_len;i=++_i){s=_ref[i];if(state===s){_results.push(this.states[s.condition][i]=void 0);}else{_results.push(void 0);}}
return _results;};Harvey._watch_query=function(mediaQuery){var _this=this;return this._window_matchmedia(mediaQuery).addListener(function(mql){return _this._update_states(_this.states[mediaQuery],mql.matches);});};Harvey._update_states=function(states,active){var state,_i,_len,_results;_results=[];for(_i=0,_len=states.length;_i<_len;_i++){state=states[_i];if(active){_results.push(state.activate());}else{_results.push(state.deactivate());}}
return _results;};Harvey._mediaList={};Harvey._window_matchmedia=function(mediaQuery){if(window.matchMedia&&'addListener'in window.matchMedia('all')){if(!(mediaQuery in this._mediaList)){this._mediaList[mediaQuery]=window.matchMedia(mediaQuery);}
return this._mediaList[mediaQuery];}
if(!this._listening){this._listen();}
if(!(mediaQuery in this._mediaList)){this._mediaList[mediaQuery]=new _mediaQueryList(mediaQuery);}
return this._mediaList[mediaQuery];};Harvey._listen=function(){var evt,_this=this;evt=window.addEventListener||window.attachEvent;evt('resize',function(){var mediaList,mediaQuery,_ref,_results;_ref=_this._mediaList;_results=[];for(mediaQuery in _ref){mediaList=_ref[mediaQuery];_results.push(mediaList._process());}
return _results;});evt('orientationChange',function(){var mediaList,mediaQuery,_ref,_results;_ref=_this._mediaList;_results=[];for(mediaQuery in _ref){mediaList=_ref[mediaQuery];_results.push(mediaList._process());}
return _results;});return this._listening=true;};Harvey._add_css_for=function(mediaQuery){if(!this.style){this.style=document.createElement('style');this.style.setAttribute('type','text/css');document.getElementsByTagName('head')[0].appendChild(this.style);}
mediaQuery="@media "+mediaQuery+" {.harvey-test{}}";if(!this.style.styleSheet){return this.style.appendChild(document.createTextNode(mediaQuery));}};return Harvey;})();State=(function(){State.prototype.active=false;State.prototype.is_setup=false;function State(condition,setup,on,off){this.condition=condition;this.setup=setup;this.on=on;this.off=off;}
State.prototype.activate=function(){if(this.active){return;}
if(!this.is_setup){if(typeof this.setup==="function"){this.setup();}
this.is_setup=true;}
if(typeof this.on==="function"){this.on();}
return this.active=true;};State.prototype.deactivate=function(){if(!this.active){return;}
if(typeof this.off==="function"){this.off();}
return this.active=false;};return State;})();_mediaQueryList=(function(){function _mediaQueryList(media){this.media=media;this._listeners=[];this.matches=this._matches();}
_mediaQueryList.prototype.addListener=function(listener){this._listeners.push(listener);return void 0;};_mediaQueryList.prototype._process=function(){var callback,current,_i,_len,_ref,_results;current=this._matches();if(this.matches===current){return;}
this.matches=current;_ref=this._listeners;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){callback=_ref[_i];_results.push(callback(this));}
return _results;};_mediaQueryList.prototype._matches=function(){if(!this._tester){this._get_tester();}
this._tester.innerHTML='&shy;<style media="'+this.media+'">#harvey-mq-test{width:42px;}</style>';this._tester.removeChild(this._tester.firstChild);return this._tester.offsetWidth===42;};_mediaQueryList.prototype._get_tester=function(){this._tester=document.getElementById('harvey-mq-test');if(!this._tester){return this._build_tester();}};_mediaQueryList.prototype._build_tester=function(){this._tester=document.createElement('div');this._tester.id='harvey-mq-test';this._tester.style.cssText='position:absolute;top:-100em';return document.body.insertBefore(this._tester,document.body.firstChild);};return _mediaQueryList;})();}).call(this);/*!
* FitVids 1.1
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
*/(function($){"use strict";$.fn.fitVids=function(options){var settings={customSelector:null};if(!document.getElementById('fit-vids-style')){var head=document.head||document.getElementsByTagName('head')[0];var css='.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';var div=document.createElement('div');div.innerHTML='<p>x</p><style id="fit-vids-style">'+css+'</style>';head.appendChild(div.childNodes[1]);}
if(options){$.extend(settings,options);}
return this.each(function(){var selectors=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];if(settings.customSelector){selectors.push(settings.customSelector);}
var $allVideos=$(this).find(selectors.join(','));$allVideos=$allVideos.not("object object");$allVideos.each(function(){var $this=$(this);if(this.tagName.toLowerCase()==='embed'&&$this.parent('object').length||$this.parent('.fluid-width-video-wrapper').length){return;}
var height=(this.tagName.toLowerCase()==='object'||($this.attr('height')&&!isNaN(parseInt($this.attr('height'),10))))?parseInt($this.attr('height'),10):$this.height(),width=!isNaN(parseInt($this.attr('width'),10))?parseInt($this.attr('width'),10):$this.width(),aspectRatio=height/width;if(!$this.attr('id')){var videoID='fitvid'+Math.floor(Math.random()*999999);$this.attr('id',videoID);}
$this.wrap('<div class="fluid-width-video-wrapper"></div>').parent('.fluid-width-video-wrapper').css('padding-top',(aspectRatio*100)+"%");$this.removeAttr('height').removeAttr('width');});});};})(window.jQuery||window.Zepto);$(function(){var $window=$(window);var breakpoints={medium:'screen and (min-width: 45em)',large:'screen and (min-width: 96em)'}
Harvey.attach(breakpoints.medium,{on:function(){$('body').addClass('breakpoint-medium');},off:function(){$('body').removeClass('breakpoint-medium');}});Harvey.attach(breakpoints.large,{on:function(){$('body').addClass('breakpoint-large');},off:function(){$('body').removeClass('breakpoint-large');}});$('a[href*=#]:not([href=#])').click(function(){if(location.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&location.hostname==this.hostname){var target=$(this.hash);target=target.length?target:$('[name='+this.hash.slice(1)+']');if(target.length){$('html,body').animate({scrollTop:target.offset().top},1000);return false;}}});$(".menu-button").click(function(){$('nav ul').toggleClass('visible');});$(".share a").click(function(){$('.share ul').toggleClass('visible');});$('.sign-up').on('click',function(){$('.newsletter-wrapper-top').toggleClass('show');});$('.sign-up').on('click',function(){$('header.container').toggleClass('taller');});$('.newsletter-signup').on('submit',function(e){e.preventDefault();$(".newsletter-button").html("Signing up...");$(".newsletter-email").animate({width:"0px"});$(".newsletter-email").hide("slow");$.ajax({url:$(this).attr('action'),type:"GET",data:$(this).serialize(),success:function(data){$(".newsletter-button").html("Thanks!");}});});$('.dropdown').click(function(){$('.dropdown').toggleClass('open');$('.popular-tags .closed').slideToggle();});var querystring=window.location.search;if((querystring.indexOf('tag')>0)&&($('.dropdown').css('display')=='block')){$('.dropdown').addClass('open');$('.popular-tags .closed').slideToggle();}
$('.pick').each(function(){var $stickyEl=$('.pick');var elTop=$stickyEl.length&&$stickyEl.offset().top-4;$stickyEl.toggleClass('fixed',$window.scrollTop()>elTop);$window.scroll(function(){$stickyEl.toggleClass('fixed',$window.scrollTop()>elTop);});});$('.nextprev').each(function(){var $stickyEl=$('.nextprev');var elTop=$stickyEl.length&&$stickyEl.offset().top-10;$stickyEl.toggleClass('sticky',$window.scrollTop()>elTop);$window.scroll(function(){$stickyEl.toggleClass('sticky',$window.scrollTop()>elTop);});});$('.responsive-object').fitVids();$('.responsive-object').each(function(){var $this=$(this);var iframe=$('iframe',$this)[0];var player=$f(iframe);$(document).on('click tap','.poster, .play',function(){player.api('play');});player.addEvent('ready',function(){player.addEvent('play',function(id){$('.play').hide();$('.breakpoint-medium header, .breakpoint-medium .hero-video h1').animate({opacity:0,},500,function(){});$('.poster').fadeOut(300);ga('send','event','video','played',id);});player.addEvent('pause',function(id){$('header').animate({opacity:1,},500,function(){});ga('send','event','video','paused',id);});player.addEvent('finish',function(id){$('header').animate({opacity:1,},500,function(){});$('.poster').fadeIn(500);ga('send','event','video','finished',id);});});});$('.gallery').featherlightGallery();});